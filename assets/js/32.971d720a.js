(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{431:function(t,s,e){"use strict";e.r(s);var a=e(9),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"frontmatter-title"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[t._v("#")]),t._v(" "+t._s(t.$frontmatter.title))]),t._v(" "),e("TocHeader"),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#test-links"}},[t._v("Test Links")])]),e("li",[e("a",{attrs:{href:"#understand-deploy-sh"}},[t._v("Understand deploy.sh")])]),e("li",[e("a",{attrs:{href:"#deploying"}},[t._v("Deploying")])])])]),e("p"),t._v(" "),e("p",[t._v("The project docs are deployed to the "),e("strong",[t._v("api3-docs")]),t._v(" remote repo gh-pages using the "),e("strong",[t._v("deploy.sh")]),t._v(" bash script. The script is run locally from a local branch that will be used for the build, usually master. Local master must be up-to-date with all changes by contributors.")]),t._v(" "),e("h2",{attrs:{id:"test-links"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#test-links"}},[t._v("#")]),t._v(" Test Links")]),t._v(" "),e("p",[t._v("Before building be sure to test all hyperlinks in the project. "),e("strong",[t._v("test:links")]),t._v(" is only good for hyperlinks in markdown files. Hyperlinks inside custom Vue components must be tested manually.")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" test:links\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h2",{attrs:{id:"understand-deploy-sh"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#understand-deploy-sh"}},[t._v("#")]),t._v(" Understand deploy.sh")]),t._v(" "),e("ol",[e("li",[t._v("Builds a static website and places it in "),e("strong",[t._v(".vuepress/dist")]),t._v(".")])]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# build the docs")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run docs:build\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("The deployment must be run from the .vuepress/dist folder.")])]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# navigate to the build output directory")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" docs/.vuepress/dist\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("The .vuepress/dist folder is staged to be pushed.")])]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" init\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -A\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Deploying the locally built /dist folder to master:gh-pages as its own commit history.'")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("ol",{attrs:{start:"4"}},[e("li",[t._v("A git push is "),e("em",[t._v("forced")]),t._v(" onto the remote branch gh-pages.")])]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push -f git@github.com:api3dao/api3-docs.git master:gh-pages\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h2",{attrs:{id:"deploying"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deploying"}},[t._v("#")]),t._v(" Deploying")]),t._v(" "),e("p",[t._v("It is important to pull down the master (step 4) after master @remote has been merged with all contributors. This insures the local build of the dist folder gets the latest from all contributors.")]),t._v(" "),e("ol",[e("li",[t._v("Commit and push local work to the remote repo.")]),t._v(" "),e("li",[t._v('Merge contributing branches "@remote" repo to master.')]),t._v(" "),e("li",[t._v("Switch to local master branch.")]),t._v(" "),e("li",[t._v('Pull "@remote" master to local repo.')]),t._v(" "),e("li",[t._v("Verify the proper versions ("),e("strong",[t._v("versions key")]),t._v(") are listed in config.json")]),t._v(" "),e("li",[t._v("Run the "),e("strong",[t._v("deploy.sh")]),t._v(" script from the local project root.")]),t._v(" "),e("li",[t._v("Switch to next local development branch.")])])],1)}),[],!1,null,null,null);s.default=r.exports}}]);